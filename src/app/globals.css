@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Purple color palette */
    --purple-50: #faf5ff;
    --purple-100: #f3e8ff;
    --purple-200: #e9d5ff;
    --purple-300: #d8b4fe;
    --purple-400: #c084fc;
    --purple-500: #a855f7;
    --purple-600: #9333ea;
    --purple-700: #7e22ce;
    --purple-800: #6b21a8;
    --purple-900: #581c87;
    
    /* Neutral colors */
    --gray-50: #fafafa;
    --gray-100: #f4f4f5;
    --gray-200: #e4e4e7;
    --gray-300: #d4d4d8;
    --gray-400: #a1a1aa;
    --gray-500: #71717a;
    --gray-600: #52525b;
    --gray-700: #3f3f46;
    --gray-800: #27272a;
    --gray-900: #18181b;
    
    /* Typography */
    --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    
    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgba(139, 92, 246, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(139, 92, 246, 0.1), 0 2px 4px -1px rgba(139, 92, 246, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(139, 92, 246, 0.1), 0 4px 6px -2px rgba(139, 92, 246, 0.05);
    --shadow-xl: 0 20px 25px -5px rgba(139, 92, 246, 0.1), 0 10px 10px -5px rgba(139, 92, 246, 0.04);
  }
}

@layer base {
  * {
    @apply border-gray-200;
  }
  
  body {
    @apply bg-white text-gray-900 antialiased;
    font-family: var(--font-sans);
  }
  
  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }
  
  /* Focus styles */
  *:focus {
    @apply outline-none ring-2 ring-purple-500 ring-offset-2;
  }
  
  /* Selection styles */
  ::selection {
    @apply bg-purple-200 text-purple-900;
  }
  
  /* Mobile-specific improvements */
  @media (max-width: 768px) {
    html {
      font-size: 16px; /* Prevent zoom on iOS */
    }
    
    /* Improve touch targets */
    button, a, input, select, textarea {
      min-height: 44px;
    }
    
    /* Better mobile text rendering */
    body {
      -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
    }
  }
}

@layer components {
  /* Glass morphism effect - dark theme */
  .glass {
    @apply bg-slate-800/90 border-b border-purple-500/20;
  }
  
  @media (min-width: 768px) {
    .glass {
      @apply backdrop-blur-xl bg-slate-800/80 border-purple-500/20;
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
    }
  }
  
  /* Purple gradient backgrounds */
  .gradient-purple {
    @apply bg-gradient-to-br from-purple-500 to-purple-700;
  }
  
  .gradient-purple-light {
    @apply bg-gradient-to-br from-purple-400 to-purple-600;
  }
  
  .gradient-purple-subtle {
    @apply bg-gradient-to-br from-purple-50 to-purple-100;
  }
  
  /* Button hover effects */
  .button-hover {
    @apply transition-all duration-300 ease-out hover:scale-105 hover:shadow-lg;
  }
  
  /* Text gradient */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-purple-400;
  }
  
  /* Professional logo styling - removed dark filters */
  .logo-professional {
    transition: all 0.3s ease;
  }
  
  .logo-professional:hover {
    transform: scale(1.05);
    filter: drop-shadow(0 4px 8px rgba(124, 58, 237, 0.2));
  }
}

@layer utilities {
  /* NUCLEAR MOBILE NAVIGATION FIX - FORCE SOLID BACKGROUND */
  @media (max-width: 768px) {
    /* Remove ALL transparency effects from mobile navigation */
    .mobile-nav-panel,
    .mobile-nav-solid,
    [class*="mobile-nav"],
    .fixed.top-0.right-0 {
      background-color: #1a1a2e !important;
      background: #1a1a2e !important;
      backdrop-filter: none !important;
      -webkit-backdrop-filter: none !important;
      opacity: 1 !important;
      background-image: none !important;
      background-attachment: scroll !important;
    }
    
    /* Force solid on any mobile navigation elements */
    .md\\:hidden div[class*="flex"] {
      background-color: #1a1a2e !important;
      background: #1a1a2e !important;
    }
    
    /* Remove blur from overlays */
    .backdrop-blur-sm,
    .backdrop-blur,
    [class*="backdrop-blur"] {
      backdrop-filter: none !important;
      -webkit-backdrop-filter: none !important;
    }
    
    /* Force opacity on all mobile nav elements */
    .md\\:hidden * {
      opacity: 1 !important;
    }
    
    /* Enhanced text contrast for solid background */
    .text-gray-200 {
      color: #f8fafc !important;
    }
    
    .text-gray-300 {
      color: #e2e8f0 !important;
    }
    
    .text-purple-400 {
      color: #c084fc !important;
    }
    
    .text-purple-300 {
      color: #d8b4fe !important;
    }
  }

  /* Custom animations */
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }
  
  @keyframes pulse-purple {
    0%, 100% { box-shadow: 0 0 0 0 rgba(168, 85, 247, 0.4); }
    50% { box-shadow: 0 0 0 10px rgba(168, 85, 247, 0); }
  }
  
  @keyframes cursor-blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }
  
  @keyframes cursor-glow {
    0% { 
      box-shadow: 0 0 5px rgba(168, 85, 247, 0.5);
      transform: scaleY(1);
    }
    100% { 
      box-shadow: 0 0 15px rgba(168, 85, 247, 0.8);
      transform: scaleY(1.1);
    }
  }
  
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
  
  .animate-pulse-purple {
    animation: pulse-purple 2s ease-in-out infinite;
  }
  
  /* 3D Transform utilities for flip animation */
  .perspective-1000 {
    perspective: 1000px;
  }
  
  .transform-style-preserve-3d {
    transform-style: preserve-3d;
  }
  
  .backface-hidden {
    backface-visibility: hidden;
  }
  
  .rotate-y-180 {
    transform: rotateY(180deg);
  }
  
  /* Mobile optimization utilities */
  .mobile-optimized {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }
  
  .touch-action-manipulation {
    touch-action: manipulation;
  }
  
  /* Mobile-specific responsive helpers */
  @media (max-width: 640px) {
    /* Ensure proper mobile font sizes */
    .mobile-text-base {
      font-size: 16px !important;
    }
    
    /* Enhanced touch targets */
    .mobile-touch-target {
      min-height: 48px !important;
      min-width: 48px !important;
    }
    
    /* Better mobile spacing */
    .mobile-padding {
      padding: 1rem !important;
    }
    
    /* Prevent horizontal overflow */
    .mobile-no-overflow {
      overflow-x: hidden !important;
      max-width: 100vw !important;
    }
    
    /* Card stack on mobile */
    .mobile-stack {
      display: flex !important;
      flex-direction: column !important;
      gap: 1rem !important;
    }
    
    /* Improve readability */
    .mobile-readable {
      line-height: 1.6 !important;
      letter-spacing: 0.01em !important;
    }
    
    /* Mobile-friendly gradients */
    .mobile-gradient-fix {
      background-attachment: scroll !important;
    }
  }
  
  /* Touch feedback for interactive elements */
  @media (hover: none) and (pointer: coarse) {
    .touch-feedback:active {
      transform: scale(0.95);
      opacity: 0.9;
    }
    
    /* Remove hover effects on touch devices */
    .touch-no-hover:hover {
      transform: none !important;
    }
  }

  /* ðŸŒ€ EPIC HUD ANIMATIONS FOR IRON MAN RADIAL MENU */
  @keyframes bounce-in {
    0% {
      transform: scale(0) rotate(180deg);
      opacity: 0;
    }
    50% {
      transform: scale(1.3) rotate(90deg);
      opacity: 0.8;
    }
    80% {
      transform: scale(0.9) rotate(10deg);
      opacity: 1;
    }
    100% {
      transform: scale(1) rotate(0deg);
      opacity: 1;
    }
  }

  @keyframes hud-glow {
    0%, 100% {
      box-shadow: 0 0 20px rgba(139, 92, 246, 0.4), 0 0 40px rgba(139, 92, 246, 0.2);
    }
    50% {
      box-shadow: 0 0 40px rgba(139, 92, 246, 0.8), 0 0 80px rgba(139, 92, 246, 0.4);
    }
  }

  @keyframes arc-entrance {
    0% {
      transform: scale(0) translate(-50px, 50px) rotate(-90deg);
      opacity: 0;
    }
    60% {
      transform: scale(1.2) translate(0, 0) rotate(15deg);
      opacity: 0.9;
    }
    100% {
      transform: scale(1) translate(0, 0) rotate(0deg);
      opacity: 1;
    }
  }

  .animate-bounce-in {
    animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  .animate-hud-glow {
    animation: hud-glow 2s ease-in-out infinite;
  }

  .animate-arc-entrance {
    animation: arc-entrance 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  /* ðŸ”¥ EPIC HAMBURGER â†’ X MORPHING ANIMATIONS */
  .hamburger-line {
    transform-origin: center;
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    left: 50%;
    transform: translateX(-50%);
  }

  /* Top line: moves to center and rotates 45Â° */
  .hamburger-line-1 {
    transform: translateX(-50%) translateY(0) rotate(0deg);
  }

  .hamburger-line-1.open {
    transform: translateX(-50%) translateY(5px) rotate(45deg);
  }

  /* Middle line: fades out with scale effect */
  .hamburger-line-2 {
    opacity: 1;
    transform: translateX(-50%) scaleX(1);
  }

  .hamburger-line-2.open {
    opacity: 0;
    transform: translateX(-50%) scaleX(0);
  }

  /* Bottom line: moves to center and rotates -45Â° */
  .hamburger-line-3 {
    transform: translateX(-50%) translateY(0) rotate(0deg);
  }

  .hamburger-line-3.open {
    transform: translateX(-50%) translateY(-5px) rotate(-45deg);
  }

  /* ðŸ’¥ EPIC PURPLE CIRCLE POP + MORPH ANIMATIONS */
  .morph-circle {
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    transform: scale(1) rotate(0deg);
    position: relative;
    overflow: visible;
  }

  .morph-circle.open {
    transform: scale(1.1) rotate(180deg);
    box-shadow: 
      0 0 20px rgba(239, 68, 68, 0.8), 
      0 0 40px rgba(239, 68, 68, 0.6),
      0 0 80px rgba(239, 68, 68, 0.3);
  }

  /* ðŸŽ† EPIC PURPLE CIRCLE BURST ON PRESS */
  .morph-circle::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(147, 51, 234, 0.6) 0%, rgba(147, 51, 234, 0.3) 40%, transparent 70%);
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
    pointer-events: none;
    transition: all 0.1s ease-out;
  }

  /* First ripple wave */
  .morph-circle::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 2px solid rgba(147, 51, 234, 0.8);
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
    pointer-events: none;
    transition: all 0.1s ease-out;
  }

  /* EPIC POP ANIMATION ON PRESS */
  .morph-circle:active::before {
    transform: translate(-50%, -50%) scale(2.5);
    opacity: 1;
    transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    animation: purple-burst 0.6s ease-out;
  }

  .morph-circle:active::after {
    transform: translate(-50%, -50%) scale(3);
    opacity: 1;
    transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    animation: ripple-ring 0.8s ease-out;
  }

  /* Circle squash and stretch on press */
  .morph-circle:active {
    transform: scale(0.9) rotate(0deg);
    transition: all 0.1s ease-out;
  }

  @keyframes purple-burst {
    0% {
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
    }
    30% {
      transform: translate(-50%, -50%) scale(1.2);
      opacity: 1;
    }
    100% {
      transform: translate(-50%, -50%) scale(2.5);
      opacity: 0;
    }
  }

  @keyframes ripple-ring {
    0% {
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
      border-width: 3px;
    }
    50% {
      opacity: 1;
      border-width: 2px;
    }
    100% {
      transform: translate(-50%, -50%) scale(3);
      opacity: 0;
      border-width: 0px;
    }
  }

  /* Continuous pulse effect for open state */
  .morph-pulse {
    animation: epic-pulse 2s ease-in-out infinite;
  }

  @keyframes epic-pulse {
    0%, 100% {
      box-shadow: 
        0 0 20px rgba(239, 68, 68, 0.6), 
        0 0 40px rgba(239, 68, 68, 0.4);
    }
    50% {
      box-shadow: 
        0 0 30px rgba(239, 68, 68, 1), 
        0 0 60px rgba(239, 68, 68, 0.8),
        0 0 100px rgba(239, 68, 68, 0.4);
    }
  }
}